#panes {
   grid-area: panes;
   display: grid;
   grid-template-rows: auto 1fr;
   grid-template-areas: 'tab-header' 'tab-content';
   /* gap: 1rem; */
   padding: 0 .5rem;
}

#tab-header {
   grid-area: tab-header;
   display: flex;
   gap: 0.5rem;
   padding: .5rem;
   flex-wrap: wrap;
   justify-content: center;
}

#tab-content {
   grid-area: tab-content;
   /* background: rgba(255, 255, 255, .03); */
   /* border-radius: 1rem; */
   /* border-bottom: none; */
   display: flex;
   flex-direction: column;
   padding: 6px 0;
   overflow: hidden;
   min-height: 0; /* Allow grid item to shrink below content size */
   margin: 0 auto;
   min-width: 60%;
}

@keyframes btn-new-hover {
   from {
      background-color: rgba(255, 255, 255, .1);
   }
   to {
      background-color: rgba(70, 163, 255, .8);
   }
}

/*#region Tab Buttons */

.tab-button {
   display: flex;
   align-items: center;
   background: rgba(255, 255, 255, .03);
   border: 1px solid transparent;
   border-radius: 8px;
   cursor: pointer;
   color: #aab1b5;
   font-size: 16px;
   font-weight: bold;
   text-transform: uppercase;
   letter-spacing: 1px;
   transition: border-color 0.2s ease;
}

.tab-button:hover {
   background: rgba(255, 255, 255, .05);
}

.tab-button.active {
   border-color: rgba(70, 163, 255, .8);
   background: rgba(255, 255, 255, .05);
}

.tab-button.disabled {
   opacity: 0.5;
   cursor: not-allowed;
   color: #6d6d6d;
}

.tab-button.disabled:hover {
   background: rgba(255, 255, 255, .03);
}

.tab-button-text {
   margin: .5rem;
}

.tab-add-btn {
   background-color: rgba(255, 255, 255, .1);
   border-radius: 4px;
   width: 2rem;
   height: 100%;
   cursor: pointer;
   color: #aab1b5;
   display: flex;
   align-items: center;
   justify-content: center;
   font-size: 1.8rem;
   font-weight: bold;
}

.tab-add-btn:hover {
   animation: btn-new-hover .6s infinite;
   animation-direction: alternate;
}

.tab-button.disabled .tab-add-btn {
   cursor: not-allowed;
   opacity: 0.5;
}

.tab-button.disabled .tab-add-btn:hover {
   animation: none;
}

/* Responsive tab layout */
@media (max-width: 800px) {
   .question-modal {
      grid-area: modal;
      display: grid;
      grid-template-columns: auto 1fr auto;
      grid-template-areas: '. question-form .';
      grid-template-rows: 1fr;
      background: linear-gradient(90deg, rgb(30,35,40), rgb(0, 0, 0), rgb(30,35,40));
   }
   
   .tab-button {
      justify-content: center;
   }
}

@media (min-width: 801px) and (max-width: 1400px) {
   .question-modal {
      grid-area: modal;
      display: grid;
      grid-template-columns: 20% 1fr 20%;
      grid-template-areas: '. question-form .';
      grid-template-rows: 1fr;
      background: linear-gradient(90deg, rgb(30,35,40), rgb(0, 0, 0), rgb(30,35,40));
   }
}

@media (min-width: 1401px) {
   .question-modal {
      grid-area: modal;
      display: grid;
      grid-template-columns: 30% 1fr 30%;
      grid-template-areas: '. question-form .';
      grid-template-rows: 1fr;
      background: linear-gradient(90deg, rgb(30,35,40), rgb(0, 0, 0), rgb(30,35,40));
   }
}

@keyframes btn-item-hover {
   from {
      background-color: #FFFF;
   }
   to {
      background-color: rgba(70, 163, 255, .8);
   }
}

/*#endregion*/

.no-items {
   margin: 1rem;
   font-size: 1.2rem;
}

.attention {
   animation: btn-new-hover .6s infinite;
   animation-direction: alternate;
}

/*#region Deck List */

.deck-list {
    color: #aab1b5;
    overflow-y: auto;
    flex: 1; /* Take remaining space in tab content */
    min-height: 0; /* Allow flex shrinking */
}

.deck-list span {
   color: rgb(92 173 255);
}

.deck-list .item, .deck-list .item-selected {
   display: grid;
   grid-template-columns: auto auto 1fr 2rem 2rem;
   font-size: 1.25rem;
   cursor: pointer;
   gap: 8px;
}

.item-editing {
   display: grid;
   grid-template-columns: auto auto 1fr 2rem;
   font-size: 1.25rem;
   border: solid .1rem rgba(70, 163, 255, .8);
   cursor: pointer;
   border-radius: 0.5rem;
   gap: 8px;
   min-height: fit-content;
   margin-bottom: 0.75rem;
}

#edit-deck.edit-deck, #card-short-phrase, #card-phrase, #card-answer {
   background: rgba(0, 0, 0, 0.3);
   border: 1px solid rgba(255, 255, 255, 0.2);
   border-radius: 0.25rem;
   color: #fff;
   padding: 0.5rem;
   font-size: 1rem;
   outline: none;
   margin-right: 0.75rem;
}

#card-short-phrase, #card-phrase, #card-answer {
   background: rgb(49, 49, 49);
   color: #c2c2c2;
   padding: 0.75rem;
   margin-right: 0rem;
}

.item {
   border: 1px solid rgba(255, 255, 255, 0.1);
   background: rgba(255, 255, 255, .05);
   border-radius: 0.5rem;
   margin-bottom: 0.75rem;
   padding: 0.75rem;
   min-height: fit-content;
   font-size: 1.25rem;
}

.item-selected {
   border: solid .1rem rgba(70, 163, 255, .8);
   background: rgba(70, 163, 255, 0.1);
   border-radius: 0.5rem;
   margin-bottom: 0.75rem;
   padding: 0.75rem;
   min-height: fit-content;
   font-size: 1.25rem;
}

.deck-list .item:hover {
   border: 1px solid rgba(255, 255, 255, 0.151);
   background: rgba(255, 255, 255, 0.082);
   transition: all 0.2s ease;
}

input[type="checkbox"] {
   width: 1.25rem;
   height: 1.25rem;
   min-width: 1.25rem;
   cursor: pointer;
   accent-color: rgba(70, 163, 255, .8);
   margin: 0;
   flex-shrink: 0;
}

/* Mobile-specific styles for better checkbox visibility */
@media (max-width: 800px) {
   input[type="checkbox"] {
      width: 1.25rem;
      height: 1.25rem;
      min-width: 1.25rem;
   }
   
   .deck-list .item, .deck-list .item-selected {
      grid-template-columns: 1.5rem auto 1fr 1.5rem 1.5rem;
      gap: 0.75rem;
      align-items: center;
   }
}

.deck-list .item-editing {
   display: grid;
   grid-template-columns: auto 1fr 36px;
   padding: 0.45rem 0.75rem;
   background: rgba(255, 255, 255, .05);
   cursor: default;
   margin-right: 6px;
   gap: 8px;
}

#edit-deck {
   border: none;
   outline: none;
   padding: 6px;
   font-size: 18px;
   color: #000;
}

.deck-list .item-editing .btn:hover {
   animation: btn-item-hover .6s infinite;
   animation-direction: alternate;
}

/*#endregion*/

/*#region Deck Header */

.deck-header {
   background: rgba(255, 255, 255, .05);
   border: 1px solid rgba(255, 255, 255, .1);
   border-radius: 8px;
   padding: .5rem;
   margin-bottom: 0.5rem;
   height: fit-content;
   margin-right: .5rem;
   border-color: rgba(70, 163, 255, .8);
}

.deck-header h2 {
   margin: 0;
   color: #aab1b5;
   font-size: 1.5rem;
   font-weight: 300;
}

.deck-header .deck-name {
   color: rgba(70, 163, 255, .9);
   font-weight: 600;
   letter-spacing: 1px;
}

/*#endregion*/

/*#region Card List */

.card-list {
    color: #aab1b5;
    overflow-y: auto;
    flex: 1; /* Take remaining space in tab content */
    min-height: 0; /* Allow flex shrinking */
}

.card-list .card-item {
   border: 1px solid rgba(255, 255, 255, 0.1);
   background: rgba(255, 255, 255, .05);
   border-radius: 0.5rem;
   margin-bottom: 0.75rem;
   padding: 0.75rem;
   min-height: fit-content;
   font-size: 1.25rem;
    margin-right: .5rem;
}

.card-list .card-item:hover {
   border: 1px solid rgba(255, 255, 255, 0.151);
   background: rgba(255, 255, 255, 0.082);
   transition: all 0.2s ease;
}

.card-list .card-item-selected {
   display: grid;
   grid-template-columns: 1fr 2rem 2rem;
   background: rgba(70, 163, 255, 0.1);
   cursor: default;
   border: solid .1rem rgba(70, 163, 255, .8);
   gap: 8px;
   border-radius: 0.5rem;
   margin-bottom: 0.75rem;
   padding: 0.75rem;
   min-height: fit-content;
   font-size: 1.25rem;
   margin-right: .5rem;
}

.card-list .card-item-editing {
   display: grid;
   grid-template-columns: 1fr 36px;
   font-size: 18px;
   border-left: solid 3px rgba(70, 163, 255, .8);
   padding: 0;
   background: linear-gradient(90deg, #272e34, transparent);
   cursor: default;
   margin-right: 6px;
   align-items: center;
}

.card-list .card-item-editing .btn {
   background-color: #FFFF;
   border-top-right-radius: 6px;
   border-bottom-right-radius: 6px;
}

.card-list .card-item-editing .btn:hover {
   animation: btn-item-hover .6s infinite;
   animation-direction: alternate;
}

.question-modal-bg {
    display: grid;
    grid-template-areas: '.' 'modal';
    grid-template-rows: 98px 1fr;
}

.question-form {
   grid-area: question-form;
   display: grid;
   grid-template-columns: 1fr;
   grid-template-rows: auto 1fr 1fr auto;
   color: #333;
   row-gap: 6px;
   padding: 6px;
   font-size: 20px;
}

#card-short-phrase {
   font-size: inherit;
   border: none;
   outline: none;
   padding: 4px;
   border-radius: 4px;
}

#card-phrase {
   resize: none;
   font-size: inherit;
   border: none;
   outline: none;
   padding: 4px;
   border-radius: 4px;
   overflow-y: auto;
}

#card-answer {
   resize: none;
   font-size: inherit;
   border: none;
   outline: none;
   padding: 4px;
   border-radius: 4px;
   overflow-y: auto;
}

.question-controls {
   font-size: inherit;
   display: grid;
   grid-template-columns: auto 1fr auto;
   grid-template-areas: 'save . cancel';
}

.question-controls > .btn {
   width: 100px;
   background: linear-gradient(180deg, #FFFFFFAE 10px, #FFFFFF80);
   border: 1px solid transparent;
   border-radius: 6px;
   align-self: center;
   justify-self: center;
   text-align: center;
   padding: 4px;
   cursor: pointer;
   font-weight: bold;
   color: #000000BB;
   margin-bottom: 12px;
}

.question-controls > .btn.save {
   grid-area: save;
}

.question-controls > .btn.cancel {
   grid-area: cancel;
}

/*#endregion*/
/*#region Rich Text Editor Styles*/

/* Override Quill snow theme for dark mode compatibility */
.quill-editor {
   background-color: rgb(50, 55, 60);
   border: 1px solid rgba(70, 163, 255, 0.3);
   border-radius: 4px;
   min-height: 150px;
}

.ql-toolbar.ql-snow {
   background-color: rgb(40, 45, 50);
   border: none;
   border-radius: 4px 4px 0 0;
}

.ql-toolbar.ql-snow .ql-formats {
   margin-right: 15px;
}

.ql-toolbar.ql-snow .ql-stroke {
   stroke: rgba(200, 200, 200, 0.8);
}

.ql-toolbar.ql-snow .ql-fill,
.ql-toolbar.ql-snow .ql-stroke.ql-fill {
   fill: rgba(200, 200, 200, 0.8);
}

.ql-toolbar.ql-snow .ql-picker-label {
   color: rgba(200, 200, 200, 0.8);
}

.ql-toolbar.ql-snow button:hover .ql-stroke,
.ql-toolbar.ql-snow button:active .ql-stroke,
.ql-toolbar.ql-snow button.ql-active .ql-stroke {
   stroke: rgba(70, 163, 255, 0.8);
}

.ql-toolbar.ql-snow button:hover .ql-fill,
.ql-toolbar.ql-snow button:active .ql-fill,
.ql-toolbar.ql-snow button.ql-active .ql-fill,
.ql-toolbar.ql-snow button:hover .ql-stroke.ql-fill,
.ql-toolbar.ql-snow button:active .ql-stroke.ql-fill,
.ql-toolbar.ql-snow button.ql-active .ql-stroke.ql-fill {
   fill: rgba(70, 163, 255, 0.8);
}

.ql-container.ql-snow {
   border: none;
   border-bottom: 1px solid rgba(70, 163, 255, 0.2);
   border-radius: 0 0 4px 4px;
}

.ql-editor {
   background-color: rgb(50, 55, 60);
   color: #ddd;
   font-size: 16px;
   line-height: 1.6;
   padding: 12px;
}

.ql-editor.ql-blank::before {
   color: rgba(200, 200, 200, 0.4);
}

/* Rich text content display in quiz */
#question,
#answer {
   word-wrap: break-word;
   overflow-wrap: break-word;
}

#question img,
#answer img {
   max-width: 100%;
   height: auto;
}

#question h1,
#answer h1 {
   font-size: 2em;
   margin: 0.5em 0;
}

#question h2,
#answer h2 {
   font-size: 1.5em;
   margin: 0.5em 0;
}

#question h3,
#answer h3 {
   font-size: 1.2em;
   margin: 0.5em 0;
}

#question ul,
#answer ul,
#question ol,
#answer ol {
   margin-left: 2em;
   margin-bottom: 0.5em;
}

#question blockquote,
#answer blockquote {
   border-left: 4px solid rgba(70, 163, 255, 0.5);
   padding-left: 12px;
   margin: 0.5em 0;
   color: rgba(221, 221, 221, 0.8);
}

#question code,
#answer code {
   background-color: rgba(0, 0, 0, 0.3);
   border-radius: 4px;
   padding: 2px 6px;
   font-family: 'Courier New', monospace;
}

#question pre,
#answer pre {
   background-color: rgba(0, 0, 0, 0.3);
   border-radius: 4px;
   padding: 12px;
   overflow-x: auto;
   margin: 0.5em 0;
}

.editor-label {
   display: block;
   margin-top: 0.5rem;
   margin-bottom: 0.25rem;
   font-size: 0.9rem;
   color: rgba(200, 200, 200, 0.7);
   font-weight: 500;
}

/*#endregion*/