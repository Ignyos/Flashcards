/* Stats Page Styles */

#page {
   display: flex;
   flex-direction: column;
   height: 100%;
   grid-area: page;
}

#page h1 {
   text-align: center;
   margin: 1rem 0 1rem 0;
   color: #fff;
   font-size: 2rem;
}

.date-info {
   text-align: center;
   margin: 0 0 2rem 0;
   color: rgba(255, 255, 255, 0.7);
   font-size: 0.9rem;
   font-style: italic;
}

#stats-list {
   display: flex;
   flex-direction: column;
   gap: 0;
   max-width: 95%;
   min-width: 60%;
   margin: 0 auto;
   padding: 0 1rem;
   flex: 1; /* Take up remaining space */
   min-height: 0; /* Allow flex item to shrink */
   overflow-y: auto;
}

/* Loading and Empty States */
.loading, .empty-state, .error-state {
   text-align: center;
   padding: 2rem;
   color: rgba(255, 255, 255, 0.6);
   font-style: italic;
}

.error-state, .error {
   color: #ff6b6b;
}

/* Deck List Item Styles - Restore original spacing */
#stats-list .item,
#stats-list .item-selected {
   display: flex;
   flex-direction: column;
   padding: 0.75rem;
   margin: 0;
   background: rgba(255, 255, 255, 0.05);
   border: 1px solid rgba(255, 255, 255, 0.1);
   border-radius: 0.5rem;
   margin-bottom: 0.75rem;
   transition: all 0.2s ease;
   position: relative;
   min-height: fit-content;
}

/* Deck Item Header (contains toggle and title) */
.deck-header {
   display: grid;
   grid-template-columns: 1.5rem 1fr;
   align-items: center;
   gap: 0.5rem;
   width: 100%;
}

#stats-list .item:hover {
   background: rgba(255, 255, 255, 0.08);
   border-color: rgba(255, 255, 255, 0.2);
}

/* Accordion Toggle Button */
.accordion-toggle {
   display: flex;
   align-items: center;
   justify-content: center;
   width: 1.25rem;
   height: 1.25rem;
   border-radius: 0.25rem;
   background: rgba(255, 255, 255, 0.1);
   color: #fff;
   font-size: 0.7rem;
   cursor: pointer;
   transition: all 0.2s ease;
   -webkit-user-select: none;
   user-select: none;
}

.accordion-toggle:hover:not(.disabled) {
   background: rgba(255, 255, 255, 0.2);
}

/* Deck Title */
.deck-title {
   color: #fff;
   font-weight: 500;
   font-size: 1rem;
   line-height: 1.3;
   overflow: hidden;
   text-overflow: ellipsis;
   white-space: nowrap;
}

/* Deck Stats Content */
.deck-stats-content {
   padding: 1rem 0 0 0;
   color: rgba(255, 255, 255, 0.8);
   font-size: 0.9rem;
   line-height: 1.5;
   border-top: 1px solid rgba(255, 255, 255, 0.1);
   margin-top: 0.75rem;
   overflow: hidden;
   transition: all 0.3s ease;
}

.deck-stats-content.hidden {
   max-height: 0;
   padding: 0;
   margin-top: 0;
   border-top: none;
   opacity: 0;
}

.deck-stats-content.expanded {
   max-height: 800px; /* Large enough for deck statistics */
   opacity: 1;
}

.deck-stats-content .loading,
.deck-stats-content .error {
   text-align: center;
   padding: 1rem;
   font-style: italic;
}

/* Deck Summary Statistics */
.deck-summary {
   margin-bottom: .5rem;
}

.stat-item {
   margin-bottom: 0.5rem;
   color: #fff;
   font-weight: 500;
}

/* Card Statistics */
.card-stats {
   background: rgba(0, 0, 0, 0.2);
   border-radius: 0.5rem;
   padding: 1rem;
   border: 1px solid rgba(255, 255, 255, 0.1);
}

.card-stats-header {
   color: #fff;
   font-weight: 600;
   margin-bottom: 1rem;
   font-size: 1rem;
}

.card-list {
   display: flex;
   flex-direction: column;
   gap: 0.5rem;
   max-height: 30rem;
   overflow-y: auto;
}

.card-stat-item {
   display: grid;
   grid-template-columns: 1fr auto;
   align-items: center;
   padding: 0.5rem 0.75rem;
   background: rgba(255, 255, 255, 0.05);
   border: 1px solid rgba(255, 255, 255, 0.1);
   border-radius: 0.375rem;
   transition: background-color 0.2s ease;
   min-height: fit-content;
}

.card-stat-item:hover {
   background: rgba(255, 255, 255, 0.08);
}

.card-phrase {
   color: rgba(255, 255, 255, 0.9);
   font-weight: 400;
   margin-right: 1rem;
   overflow: hidden;
   text-overflow: ellipsis;
   white-space: nowrap;
}

.card-success-rate {
   color: #fff;
   font-weight: 500;
   font-size: 0.85rem;
   white-space: nowrap;
   border: 1px solid rgba(255, 255, 255, 0.1);
   border-radius: 4rem;
   padding: 0.1rem 0.5rem;
}

/* Success rate color coding */
.card-success-rate:not(:contains("No data")) {
   padding: 0.25rem 0.5rem;
   border-radius: 0.25rem;
   background: rgba(70, 163, 255, 0.2);
}

/* Responsive Design */
@media (max-width: 768px) {
   #page {
      padding: 16px;
   }
   
   #page h1 {
      font-size: 1.5rem;
   }
   
   #stats-list {
      padding: 0 0.5rem;
   }
   
   #stats-list .item,
   #stats-list .item-selected {
      padding: 0.5rem;
   }
   
   .deck-title {
      padding-left: 0.5rem;
      font-size: 0.9rem;
   }
   
   .accordion-toggle {
      width: 1.25rem;
      height: 1.25rem;
      font-size: 0.7rem;
   }
   
   .card-stats {
      padding: 0.75rem;
   }
   
   .card-stat-item {
      padding: 0.375rem 0.5rem;
   }
   
   .card-phrase {
      font-size: 0.85rem;
   }
   
   .card-success-rate {
      font-size: 0.75rem;
   }
}